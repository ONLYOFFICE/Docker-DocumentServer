language: generic

dist: trusty

env:
  # postgresql
  - config: postgres.yml

  # custom values
  - config: postgres.yml
    EXT_DB_NAME: mydb
    EXT_DB_USER: myuser
    EXT_DB_PWD: password
    EXT_POSTGRES_DB: mydb
    EXT_POSTGRES_USER: myuser

  # deprecated variables
  - config: postgres-old.yml

  # mysql
  - config: mysql.yml

  # mariadb
  - config: mariadb.yml

  # activemq
  - config: activemq.yml

  # rabbitmq
  - config: rabbitmq.yml

  # rabbitmq old variables
  - config: rabbitmq-old.yml

  # redis
  - config: redis.yml

services:
  - docker

script:
  # Go to tests dir
  - cd ${PWD}/tests

  # Run test.
  - ./test.sh
